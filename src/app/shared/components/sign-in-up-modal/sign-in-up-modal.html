<!--

 this component is the modal that will "pop up" when a user elects
 to either sign up for a profile or sign into a profile.
 It will contain two tabs: Left will be for sign-in,
 Right will be for sign-up

 This component will require the use of Bootstrap 4, Popper, and JQuery

-->


<!--This button triggers the modal and is not part of the actual component-->
<div class="container">
	<hr />
	<br />
	<h3>Please sign in</h3>
	<br />
	<a class="btn btn-primary btn-lg" href="#signin" data-toggle="modal" data-target=".bs-modal-sm">Sign In/Sign Up</a>
	<br />
	<hr />
</div>
<!--/end button-->

<!-- Modal Structure -->
<div class="modal fade bs-modal-sm" id="sign-in-up-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<br />
			<nav class="bs-example bs-example-tabs">
				<!-- sets the tabs -->
				<div id="nav-tab" class="nav nav-tabs" role="tablist">
					<!-- two tabs: sign in and sign up -->
					<a class="nav-item nav-link active" href="#signin" data-toggle="tab" role="tab" aria-controls="nav-signin" aria-selected="true">Sign In</a>
					<a class="nav-item nav-link" href="#signup" data-toggle="tab" role="tab" aria-controls="nav-signup" aria-selected="true">Sign Up</a>
				</div>
			</nav>
			<div class="modal-body">
				<div id="nav-tabContent" class="tab-content">
					<div class="tab-pane fade show active" id="signin">
						<h6>Sign into your account here</h6>
						<form #signInForm="ngForm" class="form-horizontal" name="signInForm" id="signInForm" novalidate
								(ngSubmit)="signIn();">
							<fieldset>

								<!-- Sign In Form -->
								<!-- Text input-->
								<div class="control-group">
									<label class="control-label" for="signin-email">Email:</label>
									<div class="controls">
										<input id="signin-email" type="email" class="form-control input-medium" placeholder="" required [(ngModel)]=signin.profileEmail
												 #profileEmail="ngModel">
									</div>
								</div>

								<!-- Password input-->
								<div class="control-group">
									<label class="control-label" for="signin-password">Password:</label>
									<div class="controls">
										<input id="signin-password" class="form-control input-medium" type="password" required
												 [(ngModel)]="signin.profilePassword" #profilePassword="ngModel"
												 placeholder="********">
									</div>
								</div>

								<!-- Submit Button -->
								<div class="control-group">
									<label class="control-label" for="signin"></label>
									<div class="controls">
										<button type="submit" id="submit" required
												  [(ngModel)]="signin.profilePassword" #profilePassword="ngModel"
												 name="signin" class="btn btn-success">Sign In</button>
									</div>
								</div>
							</fieldset>
						</form>

						<!--alert area for status messages-->
						<div *ngIf="status !== null" class="alert alert-dismissible" [ngClass]="status.type" role="alert">
							<button type="button" class="close" aria-label="Close" (click)="status = null;"><span
								aria-hidden="true">&times;</span></button>
							{{ status.message }}
						</div>
					</div>

					<!-- Sign Up Form -->
					<!-- Text input-->

					<div class="tab-pane fade" id="signup">
						<form class="form-horizontal" [formGroup]="signUpForm" (ngSubmit)="createSignUp();" novalidate>
							<h6>Sign up for an account here</h6>
							<fieldset>
								<div class="control-group">
									<label for="atHandle" class="control-label">Username:</label>
									<div class="controls">
										<input id="atHandle" name="atHandle" class="form-control" formControlName="atHandle" type="text" placeholder="" required="required">
									</div>
								</div>

								<!-- alerts for when atHandle provided does not meet requirements -->
								<div class="alert alert-danger" *ngIf="signUpForm.controls.atHandle?.invalid && signUpForm.controls.atHandle?.touched">
									<p *ngIf="signUpForm.controls.atHandle?.errors.maxlength">Username is too long</p>
									<p *ngIf="signUpForm.controls.atHandle?.errors.required">Username is required</p>
								</div>

								<div class="control-group">
									<label class="control-label" for="email">Email:</label>
									<div class="controls">
										<input id="email" class="form-control" formControlName="email" type="text" placeholder="" required="required">
									</div>
								</div>

								<!-- alerts for when email provided does not meet requirements -->
								<div class="alert alert-danger" *ngIf="signUpForm.controls.email?.invalid && signUpForm.controls.email?.touched">
									<p *ngIf="signUpForm.controls.email?.errors.maxlength">Email is too long</p>
									<p *ngIf="signUpForm.controls.email?.errors.required">A valid email address is required</p>
								</div>

								<!-- Password input-->
								<div class="control-group">
									<label class="control-label" for="password">Password:</label>
									<div class="controls">
										<input id="password" name="password" class="form-control" formControlName="password" type="password" placeholder="********" required="required">
									</div>
								</div>

								<!-- alert for when password is not provided -->
								<div class="alert alert-danger" *ngIf="signUpForm.controls.password?.invalid && signUpForm.controls.password?.touched">
									<p *ngIf="signUpForm.controls.password?.errors.required">Valid password required</p>
								</div>

								<!-- Text input-->
								<div class="control-group">
									<label class="control-label" for="passwordConfirm">Confirm Password:</label>
									<div class="controls">
										<input id="passwordConfirm" class="form-control" formControlName="passwordConfirm" type="password" placeholder="********" required="required">
									</div>
								</div>

								<!-- alert for when password is not provided -->
								<div class="alert alert-danger" *ngIf="signUpForm.controls.passwordConfirm?.invalid && signUpForm.controls.passwordConfirm?.touched">
									<p *ngIf="signUpForm.controls.email?.errors.required">Please confirm password</p>
								</div>

								<!-- Multiple Radios (inline) -->
								<!-- Replace with reCAPTCHA? -->
								<br>
								<div class="control-group">
									<label class="control-label" for="humancheck">Humanity Check:</label>
									<div class="controls">
										<label class="radio inline" for="humancheck-0">
											<input type="radio" name="humancheck" id="humancheck-0" value="robot" checked="checked">I'm a Robot</label>
										<label class="radio inline" for="humancheck-1">
											<input type="radio" name="humancheck" id="humancheck-1" value="human">I'm Human</label>
									</div>
								</div>

								<!-- Button -->
								<div class="control-group">
									<label class="control-label" for="confirmsignup"></label>
									<div class="controls">
										<button id="confirmsignup" name="confirmsignup" class="btn btn-success">Sign Up</button>
									</div>
								</div>
							</fieldset>
						</form>
					</div>
				</div>
			</div>
			<div *ngIf="status !== null" class="alert alert-dismissible" [ngClass]="status.type" role="alert">
				<button type="button" class="close" aria-label="Close" (click)="status = null;"><span
					aria-hidden="true">&times;</span></button>
				{{ status.message }}

			</div>
		</div>
	</div>
</div>